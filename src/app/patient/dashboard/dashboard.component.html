<div class="container">
  <!-- Header -->
  <div class="header">
    <div class="header-content">
      <h1>üè† Tableau de Bord</h1>
      <p class="ms-2">Vue d'ensemble de votre activit√© m√©dicale</p>
    </div>
    <div class="header-info">
      <span class="welcome-text">Bienvenue, <strong>{{ userConnected.prenom }} {{ userConnected.nom }}</strong></span>
      <span class="current-date">{{ currentDate }}</span>
    </div>
  </div>

  <!-- Statistique Principales -->
  <div class="stats-section">
    <div class="stats-grid">

      <!-- Rendez-vous -->
      <div class="stat-card blue">
        <div class="card-header">
          <div class="icon-box">üìÖ</div>
          <h3>Rendez-vous</h3>
        </div>
        <div class="card-body">
          <div class="main-stat">
            <span class="number">{{ statsRdv.totalRdv }}</span>
            <span class="label">Total</span>
          </div>
          <div class="sub-stats">
            <div class="sub-stat">
              <span class="sub-number">{{ statsRdv.totalRdvAVenir }}</span>
              <span class="sub-label">√Ä venir</span>
            </div>
            <div class="sub-stat">
              <span class="sub-number">{{ statsRdv.totalRdvTermine }}</span>
              <span class="sub-label">Termin√©s</span>
            </div>
            <div class="sub-stat">
              <span class="sub-number">{{ statsRdv.totalRdvAnnule }}</span>
              <span class="sub-label">Annul√©s</span>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <a routerLink="/patient/rendez-vous" class="card-link">Voir tous les rendez-vous ‚Üí</a>
        </div>
      </div>

      <!-- Paiements -->
      <div class="stat-card green">
        <div class="card-header">
          <div class="icon-box">üí≥</div>
          <h3>Paiements</h3>
        </div>
        <div class="card-body">
          <div class="main-stat">
            <span class="number">360,000</span>
            <span class="label">FCFA Total</span>
          </div>
          <div class="sub-stats">
            <div class="sub-stat">
              <span class="sub-number">315,000</span>
              <span class="sub-label">Effectu√©s</span>
            </div>
            <div class="sub-stat">
              <span class="sub-number">45,000</span>
              <span class="sub-label">En attente</span>
            </div>
            <div class="sub-stat">
              <span class="sub-number">30,000</span>
              <span class="sub-label">Rembours√©s</span>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <a routerLink="/patient/paiements" class="card-link">Voir les paiements ‚Üí</a>
        </div>
      </div>

      <!-- Dossiers M√©dicaux -->
      <div class="stat-card purple">
        <div class="card-header">
          <div class="icon-box">üìÇ</div>
          <h3>Dossiers M√©dicaux</h3>
        </div>
        <div class="card-body">
          <div class="main-stat">
            <span class="number">{{ statsDossierMedicaux.totalDossierMedical }}</span>
            <span class="label">Total Dossiers</span>
          </div>
          <div class="main-stat secondary">
            <span class="number">{{ statsDossierMedicaux.totalDocument }}</span>
            <span class="label">Total Documents</span>
          </div>
          <div class="sub-stats">
            <div class="sub-stat">
              <span class="sub-number">{{ statsDossierMedicaux.totalOrdonnance }}</span>
              <span class="sub-label">Ordonnances</span>
            </div>
            <div class="sub-stat">
              <span class="sub-number">{{ statsDossierMedicaux.totalAnalyse }}</span>
              <span class="sub-label">Analyses</span>
            </div>
            <div class="sub-stat">
              <span class="sub-number">{{ statsDossierMedicaux.totalRadiographie }}</span>
              <span class="sub-label">Radiographies</span>
            </div>
          </div>
        </div>
        <br>
        <div class="card-footer">
          <a routerLink="/patient/dossier-medical" class="card-link">Voir les dossiers ‚Üí</a>
        </div>
      </div>

    </div>
  </div>

  <!-- Prochain Rendez-vous -->
  <div class="next-appointment-section" *ngIf="prochainRdv">
    <h2 class="section-title">‚è∞ Prochain Rendez-vous</h2>
    <div class="appointment-card">
      <div class="appointment-date">
        <div class="date-box">
          <span class="day">{{getRdvDay(prochainRdv.dateRdv)}}</span>
          <span class="month">{{getRdvMonth(prochainRdv.dateRdv)}}</span>
        </div>
      </div>
      <div class="appointment-info">
        <h3>Dr. {{prochainRdv.medecin?.prenom}} {{prochainRdv.medecin?.nom}}</h3>
        <p class="specialty">ü©∫ {{prochainRdv.medecin?.specialite?.libelle}}</p>
        <div class="appointment-details">
          <span class="detail-item">üìÖ {{ getRdvFormattedDate(prochainRdv.dateRdv) }}</span>
          <span class="detail-item">üïê {{ getRdvFormattedTime(prochainRdv.heure) }}</span>
          <span class="detail-item">üìç Clinique DoctoRdv Dakar</span>
        </div>
        <div class="appointment-status">
          <span class="status-badge confirmed">‚úì Confirm√©</span>
          <span class="payment-badge paid">üí≥ Pay√©</span>
        </div>
      </div>
      <div class="appointment-actions">
        <button class="action-btn primary">üìÑ Voir d√©tails</button>
        <button class="action-btn secondary">üí≥ Payer en ligne</button>
        <button class="action-btn danger">‚ùå Annuler</button>
      </div>
    </div>
  </div>

  <!-- Activit√© R√©cente -->
  <div class="activity-section">
    <h2 class="section-title">üìà Activit√© R√©cente</h2>
    <div class="activity-grid">

      <!-- Graphique Rendez-vous par mois -->
      <div class="activity-card">
        <div class="activity-header">
          <h3>üìä Rendez-vous mensuels</h3>
          <span>6 derniers mois</span>
        </div>
        <div class="chart-placeholder">
          <div class="chart-bar" style="height: 60%">
            <span class="bar-value">3</span>
            <span class="bar-label">Mai</span>
          </div>
          <div class="chart-bar" style="height: 80%">
            <span class="bar-value">4</span>
            <span class="bar-label">Juin</span>
          </div>
          <div class="chart-bar" style="height: 40%">
            <span class="bar-value">2</span>
            <span class="bar-label">Juil</span>
          </div>
          <div class="chart-bar" style="height: 100%">
            <span class="bar-value">5</span>
            <span class="bar-label">Ao√ªt</span>
          </div>
          <div class="chart-bar" style="height: 60%">
            <span class="bar-value">3</span>
            <span class="bar-label">Sept</span>
          </div>
          <div class="chart-bar" style="height: 70%">
            <span class="bar-value">3</span>
            <span class="bar-label">Oct</span>
          </div>
        </div>
      </div>

      <!-- Derni√®res transactions -->
      <div class="activity-card">
        <div class="activity-header">
          <h3>üí≥ Derni√®res Transactions</h3>
          <a routerLink="/patient/paiements" class="view-all">Voir tout</a>
        </div>
        <div class="transactions-list">
          <div class="transaction-item">
            <div class="transaction-icon success">‚úì</div>
            <div class="transaction-info">
              <p class="transaction-title">Paiement effectu√©</p>
              <span class="transaction-date">15 Oct 2024</span>
            </div>
            <span class="transaction-amount success">15,000 FCFA</span>
          </div>
          <div class="transaction-item">
            <div class="transaction-icon pending">‚è≥</div>
            <div class="transaction-info">
              <p class="transaction-title">Paiement en attente</p>
              <span class="transaction-date">20 Oct 2024</span>
            </div>
            <span class="transaction-amount pending">20,000 FCFA</span>
          </div>
          <div class="transaction-item">
            <div class="transaction-icon refund">‚Ü©Ô∏è</div>
            <div class="transaction-info">
              <p class="transaction-title">Remboursement</p>
              <span class="transaction-date">05 Oct 2024</span>
            </div>
            <span class="transaction-amount refund">15,000 FCFA</span>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>
