<div class="container">
  <!-- Header -->
  <div class="header">
    <h1>ğŸ‘¤ Mon Profil</h1>
    <p>GÃ©rez vos informations personnelles et votre sÃ©curitÃ©</p>
  </div>

  <!-- Grille principale -->
  <div class="profile-container">

    <!-- Section Informations Personnelles -->
    <div class="profile-section">


      <form class="profile-form" [formGroup]="formUtilisateur" (ngSubmit)="onSubmit()">

        <div class="section-header">
          <h3>ğŸ“ Informations Personnelles</h3>
          <div class="btn-group">
            <button type="button" class="btn-edit" (click)="toggleEdit()">
              {{ editMode ? 'âŒ Annuler' : 'âœï¸ Modifier' }}
            </button>
            <button type="submit" class="btn-save" *ngIf="editMode">
              Sauvegarder
            </button>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label>PrÃ©nom <span class="required">*</span></label>
            <input formControlName="prenom" type="text"  [disabled]="!editMode"/>
            <div *ngIf="f2['prenom'].errors">
              <span class="text-danger" *ngIf="f2['prenom'].errors['required']" >Obligatoire</span>
              <span class="text-danger"  *ngIf="f2['prenom'].errors['maxlength']" >maximum 255 caracteres</span>
            </div>
          </div>

          <div class="form-group">
            <label>Nom <span class="required">*</span></label>
            <input formControlName="nom" type="text" [disabled]="!editMode"/>
            <div *ngIf="f2['nom'].errors">
              <span class="text-danger" *ngIf="f2['nom'].errors['required']" >Obligatoire</span>
              <span class="text-danger"  *ngIf="f2['nom'].errors['maxlength']" >maximum 255 caracteres</span>
            </div>
          </div>



          <div class="form-group">
            <label>TÃ©lÃ©phone <span class="required">*</span></label>
            <input formControlName="telephone" type="tel" [disabled]="!editMode"/>
            <div *ngIf="f2['telephone'].errors">
              <span class="text-danger" *ngIf="f2['telephone'].errors['required']" >obligatoire</span>
              <span class="text-danger"  *ngIf="f2['telephone'].errors['minlength']" >minimum 8 caracteres</span>
              <span class="text-danger"  *ngIf="f2['telephone'].errors['maxlength']" >maximum 20 caracteres</span>
            </div>
          </div>

          <div class="form-group">
            <label>Date de naissance <span class="required">*</span></label>
            <input formControlName="dateNaissance" type="date" [disabled]="!editMode"/>
            <div *ngIf="f2['dateNaissance'].errors">
              <span class="text-danger" *ngIf="f2['dateNaissance'].errors['required']" >Obligatoire</span>
            </div>
          </div>

          <div class="form-group">
            <label>Genre <span class="required">*</span></label>
            <select  [disabled]="!editMode" formControlName="genre">
              <option value="Homme" selected>Masculin</option>
              <option value="Femme">FÃ©minin</option>
            </select>
          </div>

          <div class="form-group">
            <label>Adresse complÃ¨te <span class="required">*</span></label>
            <input formControlName="adresse" type="text" [disabled]="!editMode"/>
            <div *ngIf="f2['adresse'].errors">
              <span class="text-danger" *ngIf="f2['adresse'].errors['required']" >Obligatoire</span>
              <span class="text-danger" *ngIf="f2['adresse'].errors['maxlength']" >maximum 255 caracteres</span>
            </div>
          </div>
        </div>

      </form>
    </div>

    <!-- Section SÃ©curitÃ© -->
    <div class="profile-section">
      <div class="section-header">
        <h3>ğŸ”’ SÃ©curitÃ©</h3>
      </div>

      <div class="security-section">
        <div class="security-item">
          <div class="security-info">
            <h4>ğŸ”‘ Changer le mot de passe</h4>
            <p>Modifiez votre mot de passe pour sÃ©curiser votre compte</p>
          </div>
        </div>

        <form class="password-form" [formGroup]="passwordForm" (ngSubmit)="onChangePassword()" >
          <div class="form-grid">
            <div class="form-group full-width">
              <label>Mot de passe actuel <span class="required">*</span></label>
              <input type="password" placeholder="Entrez votre mot de passe actuel" formControlName="currentPassword"/>
              <div *ngIf="submitted2 && f3['currentPassword'].errors">
                <span class="text-danger" *ngIf="f3['currentPassword'].errors['required']" >Obligatoire</span>
              </div>
            </div>

            <div class="form-group">
              <label>Nouveau mot de passe <span class="required">*</span></label>
              <input type="password" placeholder="Nouveau mot de passe" formControlName="newPassword"/>
              <div *ngIf="submitted2 && f3['newPassword'].errors">
                <span class="text-danger" *ngIf="f3['newPassword'].errors['required']" >Obligatoire</span>
                <span class="text-danger" *ngIf="f3['newPassword'].errors['maxlength']" >maximum 255 caracteres</span>
              </div>
            </div>

            <div class="form-group">
              <label>Confirmer le mot de passe <span class="required">*</span></label>
              <input type="password" placeholder="Confirmez le mot de passe" formControlName="confirmPassword"/>
              <div *ngIf="passwordsDoNotMatch()" class="text-danger">
                Les mots de passe doivent Ãªtre identiques
              </div>
            </div>
          </div>

          <div class="password-requirements">
            <p><strong>Le mot de passe doit contenir :</strong></p>
            <ul>
              <li>Au moins 8 caractÃ¨res</li>
              <li>Une lettre majuscule</li>
              <li>Une lettre minuscule</li>
              <li>Un chiffre</li>
              <li>Un caractÃ¨re spÃ©cial (&#64;, #, $, etc.)</li>
            </ul>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary">Annuler</button>
            <button type="submit" class="btn btn-primary">ğŸ”’ Changer le mot de passe</button>
          </div>
        </form>
      </div>
    </div>

  </div>
</div>
