<div class="container">
  <!-- Header -->
  <div class="header">
    <h1>ğŸ‘¥ Gestion des Utilisateurs</h1>
    <p>GÃ©rez tous les utilisateurs de votre plateforme</p>
  </div>
</div>

<div class="container">
  <!-- Bouton d'ajout flottant -->
  <button class="btn-add" routerLink="/admin/add-utilisateur">
    <span>â•</span>
    Ajouter un utilisateur
  </button>

  <!-- Filtres par rÃ´le -->
  <div class="filters-section">
    <div class="filter-tabs">
      <button class="filter-tab active">
        <span>ğŸ‘¥</span> Tous (3)
      </button>
      <button class="filter-tab">
        <span>ğŸ‘¨â€âš•ï¸</span> MÃ©decins (1)
      </button>
      <button class="filter-tab">
        <span>ğŸ§â€â™‚ï¸</span> Patients (1)
      </button>
      <button class="filter-tab">
        <span>ğŸ”§</span> Admins (1)
      </button>
    </div>

    <div class="search-bar">
      <span class="search-icon">ğŸ”</span>
      <input type="text" placeholder="Rechercher par nom, email, tÃ©lÃ©phone...">
    </div>
  </div>

  <div class="users-list">

    <div class="user-card" *ngFor="let u of utilisateurs">
      <div class="user-info-row">
        <div class="user-main-info">
          <div class="user-avatar {{u.role == 'admin' ? 'admin' : u.role == 'medecin' ? 'medecin' : 'patient'}}">
            {{ u.prenom[0] }}{{ u.nom[0] }}
          </div>
          <div class="user-details">
            <h3>{{ u.prenom }} {{ u.nom }}</h3>
            <div class="user-meta">
              <span class="meta-item email">ğŸ“§ {{ u.email }}</span>
              <span *ngIf="u.role != 'admin'" class="meta-item phone">ğŸ“± {{ u.telephone }}</span>
              <span *ngIf="u.role == 'patient'">ğŸ‚ {{ getAge(u.dateNaissance!) }} ans</span>
              <span *ngIf="u.role == 'patient'">ğŸ“ {{ u.adresse }}</span>
              <span *ngIf="u.role == 'patient'">ğŸ‘¤ {{ u.genre }}</span>
              <span *ngIf="u.role == 'medecin'">âš•ï¸ {{ u.specialite?.libelle }}</span>
            </div>
          </div>
        </div>

        <div class="user-actions">
          <span *ngIf="u.role == 'admin'" class="role-badge role-admin">ğŸ”§ Admin</span>
          <span *ngIf="u.role == 'patient'" class="role-badge role-patient">ğŸ‘¤ Patient</span>
          <span *ngIf="u.role == 'medecin'" class="role-badge role-medecin">ğŸ‘¨â€âš•ï¸ï¸ MÃ©decin</span>

          <div class="action-buttons">
            <button *ngIf="u.role != 'patient'" class="action-btn btn-edit"
                    routerLink="/admin/update-utilisateur/{{u.id}}">
              âœï¸ Modifier
            </button>
            <button class="action-btn btn-delete" (click)="deleteSpecialite(u.id!)">
              ğŸ—‘ï¸ Supprimer
            </button>
          </div>
        </div>
      </div>

      <!-- Footer pour le matricule -->
      <div class="user-footer">
        <span class="matricule-badge">ğŸ†” {{ u.matricule }}</span>
      </div>
    </div>

  </div>

</div>
